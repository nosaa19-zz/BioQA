<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="author" content="colorlib.com">
    <link href="css/font.css" rel="stylesheet" />
    <link href="css/main.css" rel="stylesheet" />
  </head>
  <body>
    <div class="s130">
      <form id="searchForm">
        <div class="col-md-12" style="text-align: center">
            <h1>BioQA</h1>
        </div>
        <div class="col-md-12" style="text-align: center">
            <h1>Question Answering System For Biomedical</h1>
        </div>
        <div class="inner-form">
          <div class="input-field first-wrap">
            <div class="svg-wrapper">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
              </svg>
            </div>
            <input id="search" type="text" placeholder="What are you looking for?" />
          </div>
          <div class="input-field second-wrap">
            <button class="btn-search" type="submit">SEARCH</button>
          </div>
        </div>
        <div>
          <div class="col-3 col-md-3" style="text-align: center">
            <span>Sample Question: </span>
          </div>
          <div class="col-9 col-md-9" style="text-align: center">
            <select id="sample">
              <option value=""> </option>
              <option value="Is there a genetic component for happiness">Is there a genetic component for happiness?</option>
              <option value="Orteronel was developed for treatment of which cancer">Orteronel was developed for treatment of which cancer?</option>
              <option value="What is clathrin">What is clathrin?</option>
              <option value="Is it safe to take isotretinoin during pregnancy">Is it safe to take isotretinoin during pregnancy?</option>
              <option value="Which is the most common cause of sudden cardiac death in young athletes">Which is the most common cause of sudden cardiac death in young athletes?</option>
              <option value="Are people with blood group O protected against severe Malaria">Are people with blood group O protected against severe Malaria?</option>
              <option value="Describe a diet that reduces the chance of kidney stones">Describe a diet that reduces the chance of kidney stones</option>
              <option value="Are there any specific antidotes for rivaroxaban">Are there any specific antidotes for rivaroxaban?</option>
              <option value="What is Genomicus">What is Genomicus?</option>
              <option value="Is there evidence that tomato juice lowers cholesterol levels?">Is there evidence that tomato juice lowers cholesterol levels?</option>
            </select>
          </div>
        </div>
        <div class="col-md-12" style="text-align: center; background: #ffffb3;">
            <p id="answer"></p>
        </div>
      </form>
      
    </div>
    <script src="js/extention/choices.js"></script>
    <script src="js/extention/jquery-1.7.1.min.js"></script>
    <script type="text/javascript">
    
      $(document).ready(function() {
        $("#sample").change(function () {
            $("#search").val(this.value);
        });
        // SUBMIT FORM
        $("#searchForm").submit(function(event) {
          // Prevent the form from submitting via the browser.
          event.preventDefault();
          doPostQuery();
        });
    
        function doPostQuery(){
            
            // DO POST
           	$.ajax({
              type : "POST",
              cache: false,
              contentType : "application/json",
              url: "/api/_search/question",
              data : JSON.stringify($("#search").val()),
              dataType : 'json',
           }).done(
             function (data) {
               if(data.length !== 0){
                 if(data[0].exactAnswer != undefined && data[0].exactAnswer != null) {
                   $("#answer").text(data[0].exactAnswer.replace(/[\[\]\"]/g, '').replace(/\\n/g, ' '));
                 }
                 else if(data[0].idealAnswer != undefined && data[0].idealAnswer != null){
                   $("#answer").text(data[0].idealAnswer.replace(/[\[\]\"]/g, '').replace(/\\n/g, ' '));
                 }
               }
               else {
                 $("#answer").text("no answer found");
               }

              });}
      });
    
    
    </script>

  </body><!-- This templates was made by Colorlib (https://colorlib.com) -->
</html>
